import{_ as p,c as r,d as t,a as d,b as i,w as e,r as h,o as k,e as n}from"./app-DcByCcgZ.js";const o={},c={class:"vp-file-tree"},g={class:"vp-file-tree"},m={class:"vp-file-tree"},v={class:"vp-file-tree"};function f(y,l){const a=h("VPIcon"),s=h("FileTreeNode");return k(),r("div",null,[l[11]||(l[11]=t(`<h2 id="_1-项目简介" tabindex="-1"><a class="header-anchor" href="#_1-项目简介"><span>1 项目简介</span></a></h2><p>道路遗撒物是指在道路上非正常掉落、抛撒、遗留的物体，通常由运输车辆、施工活动或人为行为造成。这些物体可能影响交通安全、污染环境，甚至引发交通事故。</p><p>该项目旨在使用车载摄像机和轻量计算设备，实时检测道路遗撒物。</p><p>拟支持的识别模式：批量图片识别、相机视频流、相机视频采样。</p><h2 id="_2-路面分割模型训练" tabindex="-1"><a class="header-anchor" href="#_2-路面分割模型训练"><span>2 路面分割模型训练</span></a></h2><h3 id="_2-1-数据集收集和预处理" tabindex="-1"><a class="header-anchor" href="#_2-1-数据集收集和预处理"><span>2.1 数据集收集和预处理</span></a></h3><p>数据集采用的是实验室在 2025 年 3 月 11 日外出采集的真实照片，共约240张。</p><p>使用 labelme 对其进行数据标注。</p><p>labelme 的 README 中说可以直接使用<code>pip install labelme</code>安装、执行<code>labelme</code>启动。但是在我这里并不可行。因此尝试从源代码安装 labelme。</p><p>建议准备虚拟环境：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">conda</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> create</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --name</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> labelme</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> python==</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">3.10</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -y</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">conda</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> activate</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> labelme</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>首先克隆 <a href="https://github.com/wkentaro/labelme" target="_blank" rel="noopener noreferrer">labelme 仓库</a>。</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> clone</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> git@github.com:wkentaro/labelme.git</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>进入项目安装依赖：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">pip</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> install</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -e</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> .</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">pip</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> install</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> pyqt5</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 可选</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>在命令行中启动 labelme。</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">labelme</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="_2-2-yolo-数据集准备" tabindex="-1"><a class="header-anchor" href="#_2-2-yolo-数据集准备"><span>2.2 YOLO 数据集准备</span></a></h3><p>由于 labelme 标注的 json 文件并不能被 YOLO 使用，因此需要进行格式转换。</p><p>格式转换所需的工具可以在 Github 仓库中找到。</p><p>转换后的数据集结构为：</p>`,21)),d("div",c,[i(s,{expanded:"",type:"folder",filename:"dataset",level:0},{icon:e(()=>[i(a,{name:"vscode-icons:default-folder"})]),default:e(()=>[i(s,{expanded:"",type:"folder",filename:"images",level:1},{icon:e(()=>[i(a,{name:"vscode-icons:folder-type-images"})]),default:e(()=>[i(s,{expanded:"",type:"folder",filename:"train",level:2},{icon:e(()=>[i(a,{name:"vscode-icons:default-folder"})]),default:e(()=>[i(s,{type:"file",filename:"2025-03-11_116.26749-39.7505798_124.jpg",level:3},{icon:e(()=>[i(a,{name:"vscode-icons:file-type-image"})]),_:1}),i(s,{type:"file",filename:"...",level:3})]),_:1}),i(s,{expanded:"",type:"folder",filename:"val",level:2},{icon:e(()=>[i(a,{name:"vscode-icons:default-folder"})]),default:e(()=>[i(s,{type:"file",filename:"2025-03-11_116.27584-39.7512162_70.jpg",level:3},{icon:e(()=>[i(a,{name:"vscode-icons:file-type-image"})]),_:1}),i(s,{type:"file",filename:"...",level:3})]),_:1})]),_:1}),i(s,{expanded:"",type:"folder",filename:"labels",level:1},{icon:e(()=>[i(a,{name:"vscode-icons:default-folder"})]),default:e(()=>[i(s,{expanded:"",type:"folder",filename:"train",level:2},{icon:e(()=>[i(a,{name:"vscode-icons:default-folder"})]),default:e(()=>[i(s,{type:"file",filename:"2025-03-11_116.26749-39.7505798_124.txt",level:3},{icon:e(()=>[i(a,{name:"vscode-icons:file-type-text"})]),_:1}),i(s,{type:"file",filename:"...",level:3})]),_:1}),i(s,{expanded:"",type:"folder",filename:"val",level:2},{icon:e(()=>[i(a,{name:"vscode-icons:default-folder"})]),default:e(()=>[i(s,{type:"file",filename:"2025-03-11_116.27584-39.7512162_70.txt",level:3},{icon:e(()=>[i(a,{name:"vscode-icons:file-type-text"})]),_:1}),i(s,{type:"file",filename:"...",level:3})]),_:1})]),_:1}),i(s,{type:"file",filename:"data.yaml",level:1},{icon:e(()=>[i(a,{name:"vscode-icons:file-type-light-yaml"})]),_:1})]),_:1})]),l[12]||(l[12]=t(`<p>其中<code>data.yaml</code>的内容为：</p><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">path</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 数据集目录路径</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">train</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> images/train</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 训练集相对于数据集的相对路径</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">val</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> images/val</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 验证集相对于数据集的相对路径</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">names</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  0</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> road</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 分类名称，这里只有一个分类，即路面</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-3-模型训练" tabindex="-1"><a class="header-anchor" href="#_2-3-模型训练"><span>2.3 模型训练</span></a></h3><p>YOLOv8 的训练非常简单，只需要在终端中执行命令：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">yolo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> task=segment</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> \\</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">  mode=train</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> \\</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">  model=yolov8n-seg</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> \\</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">  data=./dataset/data.yaml</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> \\</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">  epochs=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">100</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> \\</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">  imgsz=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">640</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>即可以 YOLOv8n-seg 为基座模型训练。</p><div class="hint-container tip"><p class="hint-container-title">提示</p><p>如果在训练开始前卡在</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>Downloading https://github.com/ultralytics/assets/releases/download/v8.3.0/yolov8n-seg.pt to &#39;yolov8n-seg.pt&#39;...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>可以前往该地址下载基座模型到本地。</p><p>然后在训练命令中把<code>model</code>的路径改为<code>yolov8n-seg.pt</code>的路径。</p></div><p>最新训练的权重一般在项目的<code>runs/segment/train/weights</code>目录中，一般有两个文件：</p>`,8)),d("div",g,[i(s,{expanded:"",type:"folder",filename:"weights",level:0},{icon:e(()=>[i(a,{name:"vscode-icons:default-folder"})]),default:e(()=>[i(s,{type:"file",filename:"best.pt",level:1},{icon:e(()=>[i(a,{name:"vscode-icons:default-file"})]),comment:e(()=>l[0]||(l[0]=[n("训练过程中效果最好的权重")])),_:1}),i(s,{type:"file",filename:"last.pt",level:1},{icon:e(()=>[i(a,{name:"vscode-icons:default-file"})]),comment:e(()=>l[1]||(l[1]=[n("最新一次训练的权重")])),_:1})]),_:1})]),l[13]||(l[13]=t(`<h3 id="_2-4-模型预测" tabindex="-1"><a class="header-anchor" href="#_2-4-模型预测"><span>2.4 模型预测</span></a></h3><p>使用 YOLO 模型进行预测也非常简单：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">yolo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> task=segment</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> \\</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">  mode=predict</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> \\</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">  model=runs/segment/train/weights/best.pt</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> \\</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">  source=dataset/images/val</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>预测结果将会保存在项目的<code>runs/segment/predict</code>目录中。</p><h2 id="_3-遗撒物检测模型训练" tabindex="-1"><a class="header-anchor" href="#_3-遗撒物检测模型训练"><span>3 遗撒物检测模型训练</span></a></h2><h3 id="_3-1-数据集收集和预处理" tabindex="-1"><a class="header-anchor" href="#_3-1-数据集收集和预处理"><span>3.1 数据集收集和预处理</span></a></h3><p>数据集使用的是 2023 年 11 月 24 日收集的以路面为背景的遗撒物照片、以及从网络收集的常见道路垃圾照片。</p><p>使用 labelimg 进行数据标注。</p><p>同样我使用<code>pip install labelimg</code>安装的 labelimg 不能正常启动，因此从源代码安装。</p><p>建议准备虚拟环境：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">conda</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> create</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --name</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> labelimg</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> python==</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">3.9</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -y</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">conda</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> activate</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> labelimg</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>首先克隆 <a href="https://github.com/HumanSignal/labelImg" target="_blank" rel="noopener noreferrer">labelimg 仓库</a>：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> clone</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> https://github.com/heartexlabs/labelImg.git</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>安装依赖：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">pip</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> install</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> pyqt5</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> lxml</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">pyrcc5</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -o</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> libs/resources.py</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> resources.qrc</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>安装项目：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">pip</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> install</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> .</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>在命令行中启动 labelimg。</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">labelimg</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="_3-2-yolo-数据集准备" tabindex="-1"><a class="header-anchor" href="#_3-2-yolo-数据集准备"><span>3.2 YOLO 数据集准备</span></a></h3><p>labelimg 可以直接输出 YOLO 格式的标注文件，因此只需要划分训练集和验证集即可。</p>`,21)),d("div",m,[i(s,{expanded:"",type:"folder",filename:"dataset",level:0},{icon:e(()=>[i(a,{name:"vscode-icons:default-folder"})]),default:e(()=>[i(s,{expanded:"",type:"folder",filename:"images",level:1},{icon:e(()=>[i(a,{name:"vscode-icons:folder-type-images"})]),default:e(()=>[i(s,{expanded:"",type:"folder",filename:"train",level:2},{icon:e(()=>[i(a,{name:"vscode-icons:default-folder"})]),default:e(()=>[i(s,{type:"file",filename:"2023-11-24_116.28432-39.7442325_62.jpg",level:3},{icon:e(()=>[i(a,{name:"vscode-icons:file-type-image"})]),_:1}),i(s,{type:"file",filename:"...",level:3})]),_:1}),i(s,{expanded:"",type:"folder",filename:"val",level:2},{icon:e(()=>[i(a,{name:"vscode-icons:default-folder"})]),default:e(()=>[i(s,{type:"file",filename:"2023-11-24_116.284309-39.744354_165.jpg",level:3},{icon:e(()=>[i(a,{name:"vscode-icons:file-type-image"})]),_:1}),i(s,{type:"file",filename:"...",level:3})]),_:1})]),_:1}),i(s,{expanded:"",type:"folder",filename:"labels",level:1},{icon:e(()=>[i(a,{name:"vscode-icons:default-folder"})]),default:e(()=>[i(s,{expanded:"",type:"folder",filename:"train",level:2},{icon:e(()=>[i(a,{name:"vscode-icons:default-folder"})]),default:e(()=>[i(s,{type:"file",filename:"2023-11-24_116.28432-39.7442325_62.txt",level:3},{icon:e(()=>[i(a,{name:"vscode-icons:file-type-text"})]),_:1}),i(s,{type:"file",filename:"...",level:3})]),_:1}),i(s,{expanded:"",type:"folder",filename:"val",level:2},{icon:e(()=>[i(a,{name:"vscode-icons:default-folder"})]),default:e(()=>[i(s,{type:"file",filename:"2023-11-24_116.284309-39.744354_165.txt",level:3},{icon:e(()=>[i(a,{name:"vscode-icons:file-type-text"})]),_:1}),i(s,{type:"file",filename:"...",level:3})]),_:1})]),_:1}),i(s,{type:"file",filename:"data.yaml",level:1},{icon:e(()=>[i(a,{name:"vscode-icons:file-type-light-yaml"})]),_:1})]),_:1})]),l[14]||(l[14]=t(`<p>其中<code>data.yaml</code>的内容为：</p><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">path</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 数据集目录路径</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">train</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> images/train</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 训练集相对于数据集的相对路径</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">val</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> images/val</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 验证集相对于数据集的相对路径</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">nc</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 1</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 分类数，这里只有一个分类即遗撒物</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">names</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> [</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">debris</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> # 分类名称</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-3-模型训练" tabindex="-1"><a class="header-anchor" href="#_3-3-模型训练"><span>3.3 模型训练</span></a></h3><p>与语义分割训练时类似：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">yolo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> train</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> \\</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">  model=yolov8n</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> \\</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">  data=./dataset/data.yaml</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> \\</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">  epochs=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">100</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> \\</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">  imgsz=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">640</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>同样地，最新训练的权重一般在项目的<code>runs/detect/train/weights</code>目录中，包含最新训练权重<code>last.pt</code>和最佳训练权重<code>best.pt</code>。</p><h3 id="_3-4-模型预测" tabindex="-1"><a class="header-anchor" href="#_3-4-模型预测"><span>3.4 模型预测</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">yolo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> predict</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> \\</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">  model=runs/detect/train/weights/best.pt</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> \\</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">  source=dataset/images/val2</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>预测结果将会保存在项目的<code>runs/detect/predict</code>目录中。</p><h2 id="_4-协同工作框架" tabindex="-1"><a class="header-anchor" href="#_4-协同工作框架"><span>4 协同工作框架</span></a></h2>`,10)),d("div",v,[i(s,{expanded:"",type:"folder",filename:"data",level:0},{icon:e(()=>[i(a,{name:"vscode-icons:folder-type-db"})]),comment:e(()=>l[2]||(l[2]=[n("存放图片等数据")])),default:e(()=>[i(s,{expanded:"",type:"folder",filename:"input",level:1},{icon:e(()=>[i(a,{name:"vscode-icons:default-folder"})]),default:e(()=>[i(s,{type:"file",filename:"...",level:2})]),_:1}),i(s,{expanded:"",type:"folder",filename:"output",level:1},{icon:e(()=>[i(a,{name:"vscode-icons:folder-type-dist"})]),default:e(()=>[i(s,{type:"file",filename:"...",level:2})]),_:1}),i(s,{type:"file",filename:"...",level:1})]),_:1}),i(s,{expanded:"",type:"folder",filename:"models",level:0},{icon:e(()=>[i(a,{name:"vscode-icons:folder-type-model"})]),comment:e(()=>l[3]||(l[3]=[n("权重，命名格式为“基座模型_任务_训练日期”")])),default:e(()=>[i(s,{type:"file",filename:"model_loader.py",level:1},{icon:e(()=>[i(a,{name:"vscode-icons:file-type-python"})]),comment:e(()=>l[4]||(l[4]=[n("Model Loader")])),_:1}),i(s,{type:"file",filename:"yolov8n_det_250507.pt",level:1},{icon:e(()=>[i(a,{name:"vscode-icons:default-file"})]),_:1}),i(s,{type:"file",filename:"yolov8n_seg_250507.pt",level:1},{icon:e(()=>[i(a,{name:"vscode-icons:default-file"})]),_:1}),i(s,{type:"file",filename:"...",level:1})]),_:1}),i(s,{expanded:"",type:"folder",filename:"predict",level:0},{icon:e(()=>[i(a,{name:"vscode-icons:default-folder"})]),comment:e(()=>l[5]||(l[5]=[n("核心推理模块")])),default:e(()=>[i(s,{type:"file",filename:"image_batch.py",level:1},{icon:e(()=>[i(a,{name:"vscode-icons:file-type-python"})]),comment:e(()=>l[6]||(l[6]=[n("用于批量识别图片")])),_:1}),i(s,{type:"file",filename:"...",level:1})]),_:1}),i(s,{expanded:"",type:"folder",filename:"utils",level:0},{icon:e(()=>[i(a,{name:"vscode-icons:folder-type-tools"})]),comment:e(()=>l[7]||(l[7]=[n("工具集")])),default:e(()=>[i(s,{type:"file",filename:"logger.py",level:1},{icon:e(()=>[i(a,{name:"vscode-icons:file-type-python"})]),comment:e(()=>l[8]||(l[8]=[n("日志记录器")])),_:1}),i(s,{type:"file",filename:"...",level:1})]),_:1}),i(s,{type:"file",filename:"config.py",level:0},{icon:e(()=>[i(a,{name:"vscode-icons:file-type-python"})]),comment:e(()=>l[9]||(l[9]=[n("配置文件")])),_:1}),i(s,{type:"file",filename:"main.py",level:0},{icon:e(()=>[i(a,{name:"vscode-icons:file-type-python"})]),comment:e(()=>l[10]||(l[10]=[n("程序入口")])),_:1})])])}const u=p(o,[["render",f]]),A=JSON.parse('{"path":"/article/gkfuxouk/","title":"一次深度学习项目实践：道路遗撒物检测","lang":"zh-CN","frontmatter":{"title":"一次深度学习项目实践：道路遗撒物检测","createTime":"2025/05/07 09:47:35","permalink":"/article/gkfuxouk/","tags":["Python","深度学习"],"description":"1 项目简介 道路遗撒物是指在道路上非正常掉落、抛撒、遗留的物体，通常由运输车辆、施工活动或人为行为造成。这些物体可能影响交通安全、污染环境，甚至引发交通事故。 该项目旨在使用车载摄像机和轻量计算设备，实时检测道路遗撒物。 拟支持的识别模式：批量图片识别、相机视频流、相机视频采样。 2 路面分割模型训练 2.1 数据集收集和预处理 数据集采用的是实验室...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"一次深度学习项目实践：道路遗撒物检测\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-05-12T01:47:14.000Z\\",\\"author\\":[]}"],["meta",{"property":"og:url","content":"https://www.yoake.cc/article/gkfuxouk/"}],["meta",{"property":"og:site_name","content":"YOYOArticle"}],["meta",{"property":"og:title","content":"一次深度学习项目实践：道路遗撒物检测"}],["meta",{"property":"og:description","content":"1 项目简介 道路遗撒物是指在道路上非正常掉落、抛撒、遗留的物体，通常由运输车辆、施工活动或人为行为造成。这些物体可能影响交通安全、污染环境，甚至引发交通事故。 该项目旨在使用车载摄像机和轻量计算设备，实时检测道路遗撒物。 拟支持的识别模式：批量图片识别、相机视频流、相机视频采样。 2 路面分割模型训练 2.1 数据集收集和预处理 数据集采用的是实验室..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-05-12T01:47:14.000Z"}],["meta",{"property":"article:tag","content":"深度学习"}],["meta",{"property":"article:tag","content":"Python"}],["meta",{"property":"article:modified_time","content":"2025-05-12T01:47:14.000Z"}]]},"readingTime":{"minutes":3.85,"words":1154},"git":{"updatedTime":1747014434000,"contributors":[{"name":"YOAKE","username":"YOAKE","email":"yo2yoake@outlook.com","commits":1,"avatar":"https://avatars.githubusercontent.com/YOAKE?v=4","url":"https://github.com/YOAKE"}]},"autoDesc":true,"filePathRelative":"YOYOTech/250507-道路遗撒物项目落地.md","headers":[],"categoryList":[{"id":"e20ae0","sort":10002,"name":"YOYOTech"}]}');export{u as comp,A as data};
