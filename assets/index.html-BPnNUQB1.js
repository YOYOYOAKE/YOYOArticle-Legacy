import{_ as k,c as o,d,b as n,a as s,w as a,e,r as p,o as c}from"./app-DcByCcgZ.js";const g={};function u(m,i){const h=p("VPIcon"),r=p("CodeTabs");return c(),o("div",null,[i[16]||(i[16]=d('<h2 id="_1-frp安装与配置" tabindex="-1"><a class="header-anchor" href="#_1-frp安装与配置"><span>1 <code>frp</code>安装与配置</span></a></h2><p>你可以在 <a href="https://github.com/fatedier/frp/releases" target="_blank" rel="noopener noreferrer">Github Release</a> 页面下载最新的适用于 Linux 的 frp 二进制文件，并从 <a href="https://gofrp.org/zh-cn/docs/" target="_blank" rel="noopener noreferrer">frp 官方文档</a>中获取绝大部分的使用说明。</p><p><code>frp</code> 为 C/S 架构，因此你需要在服务端部署 <code>frps</code>，在客户端部署 <code>frpc</code>。</p><blockquote><p>frps 的意思就是 frp server。同理 frpc 就是 frp client。</p></blockquote><p>一对典型的<code>fprs</code>与<code>frpc</code>配置是这样的：</p>',5)),n(r,{id:"17",data:[{id:"frps.toml"},{id:"frpc.toml"}]},{title0:a(({value:l,isActive:t})=>[n(h,{name:"vscode-icons:file-type-light-toml"}),i[0]||(i[0]=s("span",null,"frps.toml",-1))]),title1:a(({value:l,isActive:t})=>[n(h,{name:"vscode-icons:file-type-light-toml"}),i[1]||(i[1]=s("span",null,"frpc.toml",-1))]),tab0:a(({value:l,isActive:t})=>i[2]||(i[2]=[s("div",{class:"language-toml line-numbers-mode","data-highlighter":"shiki","data-ext":"toml",style:{"--shiki-light":"#393a34","--shiki-dark":"#dbd7caee","--shiki-light-bg":"#ffffff","--shiki-dark-bg":"#121212"}},[s("pre",{class:"shiki shiki-themes vitesse-light vitesse-dark vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}},"bindPort"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}}," ="),s("span",{style:{"--shiki-light":"#2F798A","--shiki-dark":"#4C9A91"}}," 7000")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"})])],-1)])),tab1:a(({value:l,isActive:t})=>i[3]||(i[3]=[s("div",{class:"language-toml line-numbers-mode","data-highlighter":"shiki","data-ext":"toml",style:{"--shiki-light":"#393a34","--shiki-dark":"#dbd7caee","--shiki-light-bg":"#ffffff","--shiki-dark-bg":"#121212"}},[s("pre",{class:"shiki shiki-themes vitesse-light vitesse-dark vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}},"serverAddr"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}}," ="),s("span",{style:{"--shiki-light":"#B5695977","--shiki-dark":"#C98A7D77"}},' "'),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}},"Your Server IP"),s("span",{style:{"--shiki-light":"#B5695977","--shiki-dark":"#C98A7D77"}},'"')]),e(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}},"serverPort"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}}," ="),s("span",{style:{"--shiki-light":"#2F798A","--shiki-dark":"#4C9A91"}}," 7000")]),e(`
`),s("span",{class:"line"}),e(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"[["),s("span",{style:{"--shiki-light":"#59873A","--shiki-dark":"#80A665"}},"proxies"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"]]")]),e(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}},"name"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}}," ="),s("span",{style:{"--shiki-light":"#B5695977","--shiki-dark":"#C98A7D77"}},' "'),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}},"example_remote-desktop"),s("span",{style:{"--shiki-light":"#B5695977","--shiki-dark":"#C98A7D77"}},'"')]),e(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}},"type"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}}," ="),s("span",{style:{"--shiki-light":"#B5695977","--shiki-dark":"#C98A7D77"}},' "'),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}},"tcp"),s("span",{style:{"--shiki-light":"#B5695977","--shiki-dark":"#C98A7D77"}},'"')]),e(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}},"localIP"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}}," ="),s("span",{style:{"--shiki-light":"#B5695977","--shiki-dark":"#C98A7D77"}},' "'),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}},"127.0.0.1"),s("span",{style:{"--shiki-light":"#B5695977","--shiki-dark":"#C98A7D77"}},'"')]),e(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}},"localPort"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}}," ="),s("span",{style:{"--shiki-light":"#2F798A","--shiki-dark":"#4C9A91"}}," 3389")]),e(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#B07D48","--shiki-dark":"#BD976A"}},"remotePort"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}}," ="),s("span",{style:{"--shiki-light":"#2F798A","--shiki-dark":"#4C9A91"}}," 33890")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1)])),_:1}),i[17]||(i[17]=d('<h2 id="_2-frp管理" tabindex="-1"><a class="header-anchor" href="#_2-frp管理"><span>2 <code>frp</code>管理</span></a></h2><h3 id="_2-1-linux-环境下使用systemd管理" tabindex="-1"><a class="header-anchor" href="#_2-1-linux-环境下使用systemd管理"><span>2.1 Linux 环境下使用<code>systemd</code>管理</span></a></h3><p>一般 Linux 系统通常自带<code>systemd</code>。这里以服务端<code>fprs</code>为例，客户端同理。</p>',3)),n(r,{id:"34",data:[{id:"Ubuntu / Debian"},{id:"CentOS / RHEL"}]},{title0:a(({value:l,isActive:t})=>i[4]||(i[4]=[s("span",null,"Ubuntu / Debian",-1)])),title1:a(({value:l,isActive:t})=>i[5]||(i[5]=[s("span",null,"CentOS / RHEL",-1)])),tab0:a(({value:l,isActive:t})=>i[6]||(i[6]=[s("div",{class:"language-bash line-numbers-mode","data-highlighter":"shiki","data-ext":"bash",style:{"--shiki-light":"#393a34","--shiki-dark":"#dbd7caee","--shiki-light-bg":"#ffffff","--shiki-dark-bg":"#121212"}},[s("pre",{class:"shiki shiki-themes vitesse-light vitesse-dark vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#59873A","--shiki-dark":"#80A665"}},"apt"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}}," install"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}}," systemd")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"})])],-1)])),tab1:a(({value:l,isActive:t})=>i[7]||(i[7]=[s("div",{class:"language-bash line-numbers-mode","data-highlighter":"shiki","data-ext":"bash",style:{"--shiki-light":"#393a34","--shiki-dark":"#dbd7caee","--shiki-light-bg":"#ffffff","--shiki-dark-bg":"#121212"}},[s("pre",{class:"shiki shiki-themes vitesse-light vitesse-dark vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#59873A","--shiki-dark":"#80A665"}},"yum"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}}," install"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}}," systemd")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"})])],-1)])),_:1}),i[18]||(i[18]=s("p",null,[e("使用你喜欢的文本编辑器在"),s("code",null,"/etc/systemd/system"),e("下创建一个"),s("code",null,"frps.service"),e("文件，用于配置 frps 服务。")],-1)),n(r,{id:"45",data:[{id:"frps.service"}]},{title0:a(({value:l,isActive:t})=>i[8]||(i[8]=[s("span",null,"frps.service",-1)])),tab0:a(({value:l,isActive:t})=>i[9]||(i[9]=[s("div",{class:"language- line-numbers-mode","data-highlighter":"shiki","data-ext":"",style:{"--shiki-light":"#393a34","--shiki-dark":"#dbd7caee","--shiki-light-bg":"#ffffff","--shiki-dark-bg":"#121212"}},[s("pre",{class:"shiki shiki-themes vitesse-light vitesse-dark vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",null,"[Unit]")]),e(`
`),s("span",{class:"line"},[s("span",null,"# 服务名称，可自定义")]),e(`
`),s("span",{class:"line"},[s("span",null,"Description = frp server")]),e(`
`),s("span",{class:"line"},[s("span",null,"After = network.target syslog.target")]),e(`
`),s("span",{class:"line"},[s("span",null,"Wants = network.target")]),e(`
`),s("span",{class:"line"},[s("span")]),e(`
`),s("span",{class:"line"},[s("span",null,"[Service]")]),e(`
`),s("span",{class:"line"},[s("span",null,"Type = simple")]),e(`
`),s("span",{class:"line"},[s("span",null,"# 启动 frps 的命令，需修改为您的 frps 的安装路径。务必保证这两个路径是正确的！")]),e(`
`),s("span",{class:"line"},[s("span",null,"ExecStart = /path/to/frps -c /path/to/frps.toml")]),e(`
`),s("span",{class:"line"},[s("span")]),e(`
`),s("span",{class:"line"},[s("span",null,"[Install]")]),e(`
`),s("span",{class:"line"},[s("span",null,"WantedBy = multi-user.target")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1)])),_:1}),i[19]||(i[19]=s("p",null,[e("然后就可以使用"),s("code",null,"systemd"),e("来优雅地管理 frps 了。")],-1)),n(r,{id:"53",data:[{id:"启动 frps"},{id:"停止 frps"},{id:"重启 frps"}]},{title0:a(({value:l,isActive:t})=>i[10]||(i[10]=[s("span",null,"启动 frps",-1)])),title1:a(({value:l,isActive:t})=>i[11]||(i[11]=[s("span",null,"停止 frps",-1)])),title2:a(({value:l,isActive:t})=>i[12]||(i[12]=[s("span",null,"重启 frps",-1)])),tab0:a(({value:l,isActive:t})=>i[13]||(i[13]=[s("div",{class:"language-bash line-numbers-mode","data-highlighter":"shiki","data-ext":"bash",style:{"--shiki-light":"#393a34","--shiki-dark":"#dbd7caee","--shiki-light-bg":"#ffffff","--shiki-dark-bg":"#121212"}},[s("pre",{class:"shiki shiki-themes vitesse-light vitesse-dark vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#59873A","--shiki-dark":"#80A665"}},"sudo"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}}," systemctl"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}}," start"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}}," frps")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"})])],-1)])),tab1:a(({value:l,isActive:t})=>i[14]||(i[14]=[s("div",{class:"language-bash line-numbers-mode","data-highlighter":"shiki","data-ext":"bash",style:{"--shiki-light":"#393a34","--shiki-dark":"#dbd7caee","--shiki-light-bg":"#ffffff","--shiki-dark-bg":"#121212"}},[s("pre",{class:"shiki shiki-themes vitesse-light vitesse-dark vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#59873A","--shiki-dark":"#80A665"}},"sudo"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}}," systemctl"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}}," stop"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}}," frps")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"})])],-1)])),tab2:a(({value:l,isActive:t})=>i[15]||(i[15]=[s("div",{class:"language-bash line-numbers-mode","data-highlighter":"shiki","data-ext":"bash",style:{"--shiki-light":"#393a34","--shiki-dark":"#dbd7caee","--shiki-light-bg":"#ffffff","--shiki-dark-bg":"#121212"}},[s("pre",{class:"shiki shiki-themes vitesse-light vitesse-dark vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#59873A","--shiki-dark":"#80A665"}},"sudo"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}}," systemctl"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}}," restart"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}}," frps")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"})])],-1)])),_:1}),i[20]||(i[20]=d('<p>使用这个命令查看 frps 状态：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> systemctl</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> status</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> frps</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>如果你不想每次重启服务器就要重新执行<code>sudo systemctl start frps</code>的话，建议配置自启动：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> systemctl</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> enable</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> frps</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="_2-1-windows系统下使用系统服务管理" tabindex="-1"><a class="header-anchor" href="#_2-1-windows系统下使用系统服务管理"><span>2.1 Windows系统下使用系统服务管理</span></a></h3><p>为了方便地管理<code>frpc</code>，我们使用<code>nssm</code>工具将其注册为系统服务。<code>fprs</code>同理。</p><p>首先我们使用<code>winget</code>获取<code>nssm</code>。</p><div class="language-powershell line-numbers-mode" data-highlighter="shiki" data-ext="powershell" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">winget install nssm</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>然后使用<code>nssm</code>将<code>frpc</code>注册为系统服务：</p><div class="language-powershell line-numbers-mode" data-highlighter="shiki" data-ext="powershell" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">nssm install frpc</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>在弹出的窗口中填写<code>frpc.exe</code>的路径（<code>Path</code>）、<code>frpc.exe</code>所在的文件夹（<code>Startup directory</code>），以及启动参数<code>-c frpc.toml</code>（<code>Arguments</code>）。然后点击<code>Install</code>按钮。</p><p>按下 Win + R 组合键，打开运行窗口，输入<code>services.msc</code>，回车运行。找到我们刚刚注册的<code>frpc</code>服务，双击打开其属性，查看服务状态是否为<code>正在运行</code>，启动类型是否为<code>自动</code>。</p><p>完成之后，可以重启电脑测试自启动是否正常。</p>',13))])}const v=k(g,[["render",u]]),b=JSON.parse('{"path":"/memo/frp/","title":"frp 内网穿透","lang":"zh-CN","frontmatter":{"title":"frp 内网穿透","createTime":"2025/02/17 19:46:57","permalink":"/memo/frp/","description":"1 frp安装与配置 你可以在 Github Release 页面下载最新的适用于 Linux 的 frp 二进制文件，并从 frp 官方文档中获取绝大部分的使用说明。 frp 为 C/S 架构，因此你需要在服务端部署 frps，在客户端部署 frpc。 frps 的意思就是 frp server。同理 frpc 就是 frp client。 一对典型...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"frp 内网穿透\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-03-13T05:39:34.000Z\\",\\"author\\":[]}"],["meta",{"property":"og:url","content":"https://www.yoake.cc/memo/frp/"}],["meta",{"property":"og:site_name","content":"YOYOArticle"}],["meta",{"property":"og:title","content":"frp 内网穿透"}],["meta",{"property":"og:description","content":"1 frp安装与配置 你可以在 Github Release 页面下载最新的适用于 Linux 的 frp 二进制文件，并从 frp 官方文档中获取绝大部分的使用说明。 frp 为 C/S 架构，因此你需要在服务端部署 frps，在客户端部署 frpc。 frps 的意思就是 frp server。同理 frpc 就是 frp client。 一对典型..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-03-13T05:39:34.000Z"}],["meta",{"property":"article:modified_time","content":"2025-03-13T05:39:34.000Z"}]]},"readingTime":{"minutes":1.95,"words":584},"git":{"updatedTime":1741844374000,"contributors":[{"name":"YOAKE","username":"YOAKE","email":"yo2yoake@outlook.com","commits":2,"avatar":"https://avatars.githubusercontent.com/YOAKE?v=4","url":"https://github.com/YOAKE"}]},"autoDesc":true,"filePathRelative":"notes/memo/frp.md","headers":[],"categoryList":[{"id":"4358b5","sort":10000,"name":"notes"},{"id":"5edc2c","sort":10001,"name":"memo"}]}');export{v as comp,b as data};
